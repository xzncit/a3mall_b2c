(my["webpackJsonp"]=my["webpackJsonp"]||[]).push([["pages/public/login"],{"07f6":function(t,i,n){"use strict";n.r(i);var s=n("87e3"),e=n.n(s);for(var u in s)"default"!==u&&function(t){n.d(i,t,(function(){return s[t]}))}(u);i["default"]=e.a},"0a24":function(t,i,n){"use strict";(function(t){n("16c8");s(n("66fd"));var i=s(n("a6ca"));function s(t){return t&&t.__esModule?t:{default:t}}t(i.default)}).call(this,n("c11b")["createPage"])},"2ce1":function(t,i,n){"use strict";var s=n("e819"),e=n.n(s);e.a},"87e3":function(t,i,n){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=n("53c5"),e=n("bcd6"),u=function(){n.e("components/tool/loading").then(function(){return resolve(n("6fc7"))}.bind(null,n)).catch(n.oe)},o=function(){n.e("components/navbar/navbar").then(function(){return resolve(n("2d1d"))}.bind(null,n)).catch(n.oe)},c={components:{loading:u,navbar:o},data:function(){return{isSubmit:!1,platform:"app"}},onLoad:function(){this.platform=this.$utils.platformAgent()},onShow:function(){var t=this;"h5"==this.platform.type&&this.platform.isWechat&&void 0!=this.$route.query.code&&this.$route.query.code.length&&(this.isSubmit=!0,this.$http.sendOauth({code:this.$route.query.code,state:this.$route.query.state}).then((function(i){i.status?(t.$store.commit("UPDATEUSERS",i.data),t.$utils.switchTab("ucenter/index")):t.$utils.msg(i.info),t.isSubmit=!1})).catch((function(i){t.isSubmit=!1,t.$utils.msg("请求失败，请稍后在试")})))},onBackPress:function(t){return"navigateBack"!==t.from&&(this.$utils.switchTab("index/index"),!0)},methods:{onWxMiniLogin:function(){var i=this;this.isSubmit=!0,t.getUserProfile({desc:"授权",success:function(n){var s=JSON.parse(n.rawData);t.login({success:function(t){var e={};e.userInfo=s,e.code=t.code,i.$http.wxLogin(e).then((function(t){2==t.status?(i.$store.commit("UPDATEUSERS",t.data),i.$utils.switchTab("ucenter/index")):i.$utils.msg(n.info),i.isSubmit=!1})).catch((function(t){i.isSubmit=!1,i.$utils.msg(t)}))},fail:function(t){i.isSubmit=!1,i.$utils.msg(t)}})},fail:function(t){i.$utils.msg("您无权限请求该接口")}})},onWechatLogin:function(){var t=this;(0,s.login)().catch((function(i){t.$utils.msg(i)}))},onGoHome:function(){this.$utils.switchTab("index/index")},onSubmit:function(t){var i=this,n=t.detail.value;return this.isSubmit=!0,""==n.phone?(this.isSubmit=!1,void this.$utils.msg("请填写手机号码！")):(0,e.checkPhone)(n.phone)?""==n.password?(this.isSubmit=!1,void this.$utils.msg("请填写密码！")):void this.$http.sendLogin({username:n.phone,password:n.password}).then((function(t){t.status?(i.$store.commit("UPDATEUSERS",t.data),i.$utils.switchTab("ucenter/index")):i.$utils.msg(t.info),i.isSubmit=!1})).catch((function(t){i.isSubmit=!1,i.$utils.msg("连接网络错误，请检查网络是否连接！")})):(this.isSubmit=!1,void this.$utils.msg("您填写的手机号码不正确！"))}}};i.default=c}).call(this,n("c11b")["default"])},a6ca:function(t,i,n){"use strict";n.r(i);var s=n("f33a"),e=n("07f6");for(var u in e)"default"!==u&&function(t){n.d(i,t,(function(){return e[t]}))}(u);n("2ce1");var o,c=n("f0c5"),a=Object(c["a"])(e["default"],s["b"],s["c"],!1,null,"6e027780",null,!1,s["a"],o);i["default"]=a.exports},e819:function(t,i,n){},f33a:function(t,i,n){"use strict";var s;n.d(i,"b",(function(){return e})),n.d(i,"c",(function(){return u})),n.d(i,"a",(function(){return s}));var e=function(){var t=this,i=t.$createElement;t._self._c},u=[]}},[["0a24","common/runtime","common/vendor"]]]);