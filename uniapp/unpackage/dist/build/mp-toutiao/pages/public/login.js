(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/public/login"],{"07f6":function(t,n,i){"use strict";i.r(n);var o=i("87e3"),e=i.n(o);for(var s in o)"default"!==s&&function(t){i.d(n,t,(function(){return o[t]}))}(s);n["default"]=e.a},"0a24":function(t,n,i){"use strict";(function(t){i("16c8");o(i("66fd"));var n=o(i("a6ca"));function o(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,i("f266")["createPage"])},"5b7d":function(t,n,i){"use strict";var o=i("dd80"),e=i.n(o);e.a},"84dd":function(t,n,i){"use strict";var o;i.d(n,"b",(function(){return e})),i.d(n,"c",(function(){return s})),i.d(n,"a",(function(){return o}));var e=function(){var t=this,n=t.$createElement;t._self._c},s=[]},"87e3":function(t,n,i){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i("53c5"),e=i("bcd6"),s=function(){i.e("components/tool/loading").then(function(){return resolve(i("6fc7"))}.bind(null,i)).catch(i.oe)},u={components:{loading:s},data:function(){return{isSubmit:!1,platform:"app"}},onLoad:function(){this.platform=this.$utils.platformAgent()},onShow:function(){var t=this;"h5"==this.platform.type&&this.platform.isWechat&&void 0!=this.$route.query.code&&this.$route.query.code.length&&(this.isSubmit=!0,this.$http.sendOauth({code:this.$route.query.code,state:this.$route.query.state}).then((function(n){n.status?(t.$store.commit("UPDATEUSERS",n.data),t.$utils.switchTab("ucenter/index")):t.$utils.msg(n.info),t.isSubmit=!1})).catch((function(n){t.isSubmit=!1,t.$utils.msg("请求失败，请稍后在试")})))},onBackPress:function(t){return"navigateBack"!==t.from&&(this.$utils.switchTab("index/index"),!0)},methods:{onWxMiniLogin:function(){t.getUserProfile({desc:"展示用户信息",success:function(n){console.log("res",n),t.login({success:function(t){console.log("login",t)},fail:function(t){console.log("err",t)}})}})},onWechatLogin:function(){var t=this;(0,o.login)().catch((function(n){t.$utils.msg()}))},onGoHome:function(){this.$utils.switchTab("index/index")},onSubmit:function(t){var n=this,i=t.detail.value;return this.isSubmit=!0,""==i.phone?(this.isSubmit=!1,void this.$utils.msg("请填写手机号码！")):(0,e.checkPhone)(i.phone)?""==i.password?(this.isSubmit=!1,void this.$utils.msg("请填写密码！")):void this.$http.sendLogin({username:i.phone,password:i.password}).then((function(t){t.status?(n.$store.commit("UPDATEUSERS",t.data),n.$utils.switchTab("ucenter/index")):n.$utils.msg(t.info),n.isSubmit=!1})).catch((function(t){n.isSubmit=!1,n.$utils.msg("连接网络错误，请检查网络是否连接！")})):(this.isSubmit=!1,void this.$utils.msg("您填写的手机号码不正确！"))}}};n.default=u}).call(this,i("f266")["default"])},a6ca:function(t,n,i){"use strict";i.r(n);var o=i("84dd"),e=i("07f6");for(var s in e)"default"!==s&&function(t){i.d(n,t,(function(){return e[t]}))}(s);i("5b7d");var u,c=i("f0c5"),a=Object(c["a"])(e["default"],o["b"],o["c"],!1,null,"df8e424e",null,!1,o["a"],u);n["default"]=a.exports},dd80:function(t,n,i){}},[["0a24","common/runtime","common/vendor"]]]);