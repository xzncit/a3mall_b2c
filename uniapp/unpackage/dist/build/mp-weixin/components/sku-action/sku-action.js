(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/sku-action/sku-action"],{"0530":function(t,e,i){"use strict";i.r(e);var s=i("2fd5"),n=i.n(s);for(var r in s)"default"!==r&&function(t){i.d(e,t,(function(){return s[t]}))}(r);e["default"]=n.a},"2fd5":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s={props:{value:{type:Boolean,default:!1},fields:{required:!0,type:Array,default:function(){return[]}},goods:{default:function(){return{}}},attribute:{default:function(){return[]}},item:{default:function(){return{}}},goodsInfo:{default:function(){return{}}}},data:function(){return{maxHeight:0,number:1,minNumber:1,maxNumber:0,specSelected:"",selectedSku:[],goodsPrice:"",goodsStockNumber:"",selectedGoodsInfo:{}}},mounted:function(){var t=this.$utils.getSystemInfo();this.maxHeight=t.h-this.$utils.px2rpx(200)},watch:{goods:{handler:function(t,e){this.goodsStockNumber=this.goods.store_nums,this.goodsPrice=this.goods.sell_price;var i={};for(var s in this.goods)this.$utils.in_array(s,this.fields)&&(i[s]=this.goods[s]);Object.assign(i,{num:this.number,isSubmit:!0,selectedSku:{id:"",specSelected:""}}),this.selectedGoodsInfo=i},deep:!0},attribute:{handler:function(t,e){if(!(this.attribute.length<=0)){var i=[];for(var s in this.selectedSku=[],this.attribute)for(var n in this.attribute[s]["list"])this.attribute[s]["list"][n]["selected"]&&!this.attribute[s]["list"][n]["disable"]&&(this.selectedSku.push(this.attribute[s]["list"][n]),i.push({name:this.attribute[s].name,value:this.attribute[s]["list"][n].value}));var r=[];for(var o in this.selectedSku)r.push(this.selectedSku[o].pid+"_"+this.selectedSku[o].id);if(this.attribute.length==r.length&&void 0!=this.item[r.join("_")]){var u=this.item[r.join("_")];this.goodsPrice=u.sell_price,this.goodsStockNumber=u.store_nums,this.number>=u.store_nums&&(this.number=u.store_nums),this.selectedGoodsInfo.selectedSku.id=u.product_id,this.selectedGoodsInfo.isSubmit=!0}else this.selectedGoodsInfo.isSubmit=!1;this.specSelected="";var a=[];for(var d in i)a.push(i[d].name+":"+i[d].value);a.length>0&&(this.selectedGoodsInfo.selectedSku.specSelected=a.join(","),this.specSelected="己选择："+a.join(","))}},deep:!0},selectedGoodsInfo:{handler:function(t,e){this.$emit("update:goods-info",this.selectedGoodsInfo)},deep:!0}},methods:{minus:function(){this.number<=1||(this.number-=1,this.selectedGoodsInfo.num=this.number)},plus:function(){this.number>=this.goodsStockNumber||(this.number+=1,this.selectedGoodsInfo.num=this.number)},onClose:function(){this.$emit("input",!this.value)},checkStatus:function(t,e){var i=this.attribute,s=!1;for(var n in i)if(t==i[n]["id"])for(var r in i[n]["list"]){var o=i[n]["list"][r];if(t==o["pid"]&&e==o["id"]&&o["disable"]){s=!0;break}}return s},onSelected:function(t,e){if(!this.checkStatus(t,e)){var i=[];for(var s in this.attribute)if(i[s]="[A-Za-z0-9_\\:\\,]+",t==this.attribute[s]["id"])for(var n in this.attribute[s]["list"]){var r=this.attribute[s]["list"][n];if(t==r["pid"]&&e==r["id"]){var o=!r.selected;this.$set(this.attribute[s]["list"][n],"selected",o),1==o&&(i[s]=r.pid+":"+r.id)}else this.$set(this.attribute[s]["list"][n],"selected",!1)}for(var u in this.attribute)for(var a in this.attribute[u]["list"]){var d=this.attribute[u]["list"][a],c=i.slice();c[u]=d.pid+":"+d.id;var l=!0;for(var h in this.item){var f=new RegExp(c.join(","));f.test(this.item[h].key)&&this.item[h].store_nums>0&&(l=!1)}this.$set(this.attribute[u]["list"][a],"disable",l)}}}}};e.default=s},"5dd2":function(t,e,i){},"69b8":function(t,e,i){"use strict";i.r(e);var s=i("c843"),n=i("0530");for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);i("71f1");var o,u=i("f0c5"),a=Object(u["a"])(n["default"],s["b"],s["c"],!1,null,"0b3372ce",null,!1,s["a"],o);e["default"]=a.exports},"71f1":function(t,e,i){"use strict";var s=i("5dd2"),n=i.n(s);n.a},c843:function(t,e,i){"use strict";var s;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return s}));var n=function(){var t=this,e=t.$createElement;t._self._c;"augmented"===t.$scope.data.scopedSlotsCompiler&&t.$setScopedSlotsParams("sku-header-price",{price:t.goodsPrice})},r=[]}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/sku-action/sku-action-create-component',
    {
        'components/sku-action/sku-action-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("69b8"))
        })
    },
    [['components/sku-action/sku-action-create-component']]
]);
