(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/ucenter/address_editor"],{"18c8":function(e,t,n){"use strict";n.r(t);var a=n("a430"),i=n("b423");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);n("bd04");var s,o=n("f0c5"),d=Object(o["a"])(i["default"],a["b"],a["c"],!1,null,"b14cffa0",null,!1,a["a"],s);t["default"]=d.exports},4517:function(e,t,n){"use strict";(function(e){n("e7e3");a(n("66fd"));var t=a(n("18c8"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},"574f":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n("638c")),i=s(n("b65a"));function r(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function s(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function o(e){return e&&e.__esModule?e:{default:e}}var d=function(){Promise.all([n.e("common/vendor"),n.e("components/navbar/navbar")]).then(function(){return resolve(n("c4a9"))}.bind(null,n)).catch(n.oe)},u={components:{navbar:d},data:function(){return{id:0,name:"",tel:"",province:"",county:"",city:"",areaCode:[],addressDetail:"",is_default:!1,list:a.default,area_name:"",area:[],isSelected:!1}},onLoad:function(e){this.id=void 0!=e.id?e.id:0,this.isSelected=!!this.$storage.get("ORDER_CONFIRM_SELECT")},onShow:function(){var e=this,t=this.$storage.getJson("users");null==t?this.$utils.navigateTo("public/login"):this.$http.getAddressData({id:this.id,client_type:"0"}).then((function(t){if(void 0!=t.data.area_name){var n=t.data.area_name.split(",");e.name=t.data.name,e.tel=t.data.tel,e.province=n[0],e.county=n[2],e.city=n[1]}e.areaCode=[t.data.province,t.data.county,t.data.city],e.addressDetail=t.data.addressDetail,e.is_default=!!t.data.isDefault,e.area_name=t.data.area_name,e.area=[t.data.province,t.data.county,t.data.city]}))},onBackPress:function(e){return this.$storage.remove("ORDER_CONFIRM_SELECT"),!1},methods:{switchChange:function(e){this.is_default=e.target.value},formSubmit:function(e){var t=this,n=e.detail.value;if(n.name.length<=0)this.$utils.msg("请填写用户名");else if(i.checkPhone(n.tel))if(n.addressDetail.length<=0)this.$utils.msg("请填写收货地址！");else if(n.addressDetail.length>=120)this.$utils.msg("您填写的收货地址过长，请勿超过120个字符！");else if(this.areaCode.length<=0)this.$utils.msg("请选择所在地区！");else{var a={id:this.id,client_type:"0",name:n.name,tel:n.tel,province:this.province,county:this.county,city:this.city,areaCode:this.areaCode,addressDetail:n.addressDetail,is_default:this.is_default?1:0};this.$http.editorAddress(a).then((function(e){e.status?t.isSelected?(a.id=e.data,t.onReturnOrderAddress(a)):t.$utils.navigateTo("ucenter/address"):t.$utils.msg(e.info)}))}else this.$utils.msg("您填写的手机号码不正确！")},onReturnOrderAddress:function(e){this.$utils.prePage().address={id:e.id,name:e.name,tel:e.tel,address:e.addressDetail},this.$utils.prePage().params.address_id=e.id,this.$utils.prePage().chosenAddressId=e.id,this.$utils.prePage().isAddressStatus=!1,this.$storage.remove("ORDER_CONFIRM_SELECT"),this.$utils.navigateBack()},handleTap:function(e){this.$refs[e].show()},handleChange:function(e){},handleConfirm:function(e){var t=[];for(var n in e.item)t.push(e.item[n].label);this.province=t[0],this.city=t[1],this.county=void 0!=t[2]?t[2]:0,t.length>0&&(this.area_name=t.join(",")),this.areaCode=e.value},handleCancel:function(e){}}};t.default=u},7353:function(e,t,n){},a430:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a}));var a={navbar:function(){return Promise.all([n.e("common/vendor"),n.e("components/navbar/navbar")]).then(n.bind(null,"c4a9"))},lbPicker:function(){return Promise.all([n.e("common/vendor"),n.e("components/lb-picker/index")]).then(n.bind(null,"ea05"))}},i=function(){var e=this,t=e.$createElement;e._self._c},r=[]},b423:function(e,t,n){"use strict";n.r(t);var a=n("574f"),i=n.n(a);for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);t["default"]=i.a},bd04:function(e,t,n){"use strict";var a=n("7353"),i=n.n(a);i.a}},[["4517","common/runtime","common/vendor"]]]);