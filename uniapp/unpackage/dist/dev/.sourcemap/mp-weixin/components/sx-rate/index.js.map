{"version":3,"sources":["webpack:////Users/huangjiapeng/www/A3MallPro/app/components/sx-rate/index.vue?c571","webpack:////Users/huangjiapeng/www/A3MallPro/app/components/sx-rate/index.vue?e866","webpack:////Users/huangjiapeng/www/A3MallPro/app/components/sx-rate/index.vue?b84b","webpack:////Users/huangjiapeng/www/A3MallPro/app/components/sx-rate/index.vue?f5f8","uni-app:///components/sx-rate/index.vue","webpack:////Users/huangjiapeng/www/A3MallPro/app/components/sx-rate/index.vue?2554","webpack:////Users/huangjiapeng/www/A3MallPro/app/components/sx-rate/index.vue?ed67"],"names":[],"mappings":"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","file":"components/sx-rate/index.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=7a1f5ec0&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=7a1f5ec0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7a1f5ec0\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/sx-rate/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=7a1f5ec0&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.touchMoving = false\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<!--\r\nsx-rate  uni-app滑选星星组件\r\n版本 1.1.2\r\n日期 2020-6-4\r\n作者 sunxi1997\r\n链接 https://ext.dcloud.net.cn/plugin?id=1027\r\n-->\r\n<template>\r\n  <view\r\n    class=\"rate-box\"\r\n    :class=\"[{animation},containerClass]\"\r\n    @touchmove=\"ontouchmove\"\r\n    @touchend=\"touchMoving=false\"\r\n  >\r\n    <view\r\n      v-for=\"(val,i) in list\"\r\n      :key=\"val\"\r\n      class=\"rate\"\r\n      :style=\"{fontSize, paddingLeft: i!==0 ? rateMargin : 0, paddingRight: i<list.length-1 ? rateMargin : 0, color: val<=rateValue ? activeColor : defaultColor}\"\r\n      :class=\"[{scale: !disabled && val<=rateValue && animation && touchMoving},`rate-${i}`,rateClass]\"\r\n      :data-val=\"val\"\r\n      @click=\"onItemClick\"\r\n    >\r\n      <text class=\"iconfont iconiconstar\" />\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\n  import { getClientRect } from \"./common\";\r\n\r\n  export default {\r\n    name: 'sx-rate',\r\n    props: {\r\n      // 当前值\r\n      value: {\r\n        type: Number,\r\n        default: 3\r\n      },\r\n      // 最大星星数量\r\n      max: {\r\n        type: Number,\r\n        default: 5\r\n      },\r\n      // 禁用\r\n      disabled: {\r\n        type: Boolean,\r\n        default: false\r\n      },\r\n      // 动画效果\r\n      animation: {\r\n        type: Boolean,\r\n        default: true\r\n      },\r\n      // 默认星星颜色\r\n      defaultColor: {\r\n        type: String,\r\n        default: '#ccc'\r\n      },\r\n      // 滑选后星星颜色\r\n      activeColor: {\r\n        type: String,\r\n        default: '#FFB700'\r\n      },\r\n      // 星星大小\r\n      fontSize: {\r\n        type: String,\r\n        default: 'inherit'\r\n      },\r\n      // 星星间距\r\n      margin: {\r\n        type: String,\r\n        default: ''\r\n      },\r\n      // 自定义类名-容器\r\n      containerClass: {\r\n        type: String,\r\n        default: ''\r\n      },\r\n      // 自定义类名-星星\r\n      rateClass: {\r\n        type: String,\r\n        default: ''\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        rateValue: 0,\r\n        touchMoving: false,\r\n        startX: [],\r\n        startW: 30\r\n      }\r\n    },\r\n    computed: {\r\n      list() {\r\n        return [...new Array(this.max)].map((_, i) => i + 1)\r\n      },\r\n      rateMargin() {\r\n        let margin = this.margin;\r\n        if (!margin)\r\n          return 0;\r\n\r\n        switch (typeof margin) {\r\n          case \"number\":\r\n            margin += 'px';\r\n          case \"string\":\r\n            break;\r\n          default:\r\n            return 0;\r\n        }\r\n\r\n        let reg = /^(\\d+)([^\\d]*)/;\r\n        let result = reg.exec(margin);\r\n        if (!result)\r\n          return 0;\r\n\r\n        let [_, num, unit] = result;\r\n        return num / 2 + unit;\r\n      }\r\n    },\r\n    watch: {\r\n      value: {\r\n        handler(val) {\r\n          this.rateValue = val;\r\n        },\r\n        immediate: true\r\n      }\r\n    },\r\n    methods: {\r\n      // 计算星星位置\r\n      async initStartX() {\r\n        let {max} = this;\r\n        this.startX = [];\r\n\r\n        for (let i = 0; i < max; i++) {\r\n\r\n          let selector = `.rate-${ i }`;\r\n          let {left, width} = await getClientRect(selector, this);\r\n\r\n          this.startX.push(left);\r\n          this.startW = width;\r\n        }\r\n      },\r\n\r\n      /**\r\n       * 手指滑动事件回调\r\n       * https://github.com/sunxi1997/uni-app-sx-rate/pull/1\r\n       * 原本的触摸处理在自定了样式后可能会出现bug, 已解决\r\n       */\r\n      async ontouchmove(e) {\r\n        if (!this.touchMoving) {\r\n          this.touchMoving = true;\r\n          // 开始手指滑动时重新计算星星位置,防止星星位置意外变化\r\n          await this.initStartX();\r\n        }\r\n\r\n        let {startX, startW, max} = this;\r\n        let {touches} = e;\r\n\r\n        // 触摸焦点停留的位置\r\n        let {pageX} = touches[touches.length - 1];\r\n\r\n\r\n        // 超出最左边, 0 星\r\n        if (pageX <= startX[0])\r\n          return this.toggle(0);\r\n\r\n        // 刚好在第一颗星\r\n        else if (pageX <= startX[0] + startW)\r\n          return this.toggle(1);\r\n\r\n        // 超出最右边, 最大星\r\n        else if (pageX >= startX[max - 1])\r\n          return this.toggle(max);\r\n\r\n        //计算星星停留的位置\r\n        let startXHash = startX.concat(pageX).sort((a, b) => a - b);\r\n        this.toggle(startXHash.indexOf(pageX));\r\n      },\r\n      // 点击回调\r\n      onItemClick(e) {\r\n        let {val} = e.currentTarget.dataset;\r\n        this.toggle(+val)\r\n      },\r\n      // 修改值\r\n      toggle(val) {\r\n        let {disabled} = this;\r\n        val = +val;\r\n        if (disabled || isNaN(val))\r\n          return;\r\n        if (this.rateValue !== val) {\r\n          this.rateValue = val;\r\n          this.$emit('update:value', val);\r\n          this.$emit('change', val)\r\n        }\r\n      }\r\n    },\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .rate-box {\r\n    min-height: 1.4em;\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n\r\n  .rate {\r\n    display: inline-flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 1.2em;\r\n    transition: all .15s linear;\r\n  }\r\n\r\n  .rate.scale {\r\n    transform: scale(1.1);\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=7a1f5ec0&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=7a1f5ec0&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1628478063978\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}